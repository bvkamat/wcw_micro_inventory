var Sequelize = require('sequelize');
var dotty = require('dotty');
var MsSqlModel = require('./MsSqlModel');

module.exports = MsSqlObj;

function MsSqlObj(config) {	
	this.sequelize = new Sequelize(config.name,config.username,config.password,config.options);	
}

MsSqlObj.prototype.model = function (modelName,attributes,options) {
	
	for ( var attributename in attributes) {

		switch (attributes[attributename].type) {
			case "String":
				attributes[attributename].type = Sequelize.STRING;
				break;
			case "Integer":
				attributes[attributename].type = Sequelize.INTEGER;
				break;
			default:
			}
		}	
	return new MsSqlModel(this.sequelize,modelName,attributes,options);
};

MsSqlObj.prototype.fn = function(fn){
	return this.sequelize.fn(arguments[0],arguments[1]);
}

MsSqlObj.prototype.col = function(col) {
	return Sequelize.col(col);
  };


